{{ define "content" }}
<div class="row row-deck row-cards">
    <div class="col-3">
        <div class="card">
            <div class="card-body flex-column m-5" style="height: 5rem">
                <span class="status status-green">
                    <span class="status-dot"></span>
                    Registered Hosts
                </span>
                <h1>{{ .TotalHosts }}</h1>
            </div>
        </div>
    </div>

    <div class="col-3">
        <div class="card">
            <div class="card-body flex-column m-5" style="height: 5rem">
                <span class="status status-yellow">
                    <span class="status-dot"></span>
                    Active Tasks
                </span>
                <h1>{{ .ActiveTasks }}</h1>
            </div>
        </div>
    </div>

    <div class="col-3">
        <div class="card">
            <div class="card-body flex-column m-5" style="height: 5rem">
                <span class="status status-teal">
                    <span class="status-dot"></span>
                    Available Wifi Keys
                </span>
                <h1>{{ .AvailableWifiKeys }}</h1>
            </div>
        </div>
    </div>

    <div class="col-3">
        <div class="card">
            <div class="card-body flex-column m-5" style="height: 5rem">
                <span class="status status-blue">
                    <span class="status-dot"></span>
                    Total Requests
                </span>
                <h1>{{ .TotalRequests }}</h1>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <h2>Request Summary for {{ .Month }}</h2>
                <div id="chart"></div>
            </div>
            <script>
                document.addEventListener("DOMContentLoaded", function() {
                    window.ApexCharts && (new ApexCharts(document.getElementById(
                    'chart'), {
                    chart: {
                        type: "line",
                        fontFamily: 'inherit',
                        height: 500,
                        parentHeightOffset: 0,
                        toolbar: {
                            show: false,
                        },
                        animations: {
                            enabled: false
                        },
                    },
                    stroke: {
                        width: 2,
                        lineCap: "round",
                        curve: "straight",
                    },
                    series: [{
                        name: "Unregistered Hosts",
                        data: {{ .UnregisteredGraphData }},
                    }, {
                        name: "Registered Hosts",
                        data: {{ .RegisteredGraphData }},
                    }],
                    tooltip: {
                        theme: 'dark'
                    },
                    grid: {
                        padding: {
                        top: -20,
                        right: 0,
                        left: -4,
                        bottom: -4
                        },
                        strokeDashArray: 4,
                    },
                    xaxis: {
                        labels: {
                        padding: 0,
                        },
                        tooltip: {
                        enabled: false
                        },
                        type: 'datetime',
                    },
                    yaxis: {
                        labels: {
                        padding: 4
                        },
                    },
                    labels: {{ .GraphDates }},
                    colors: [
                        '#D63939',
                        '#2FB344',
                        '#0E74D3'
                    ],
                    legend: {
                        show: true,
                        position: 'bottom',
                        offsetY: 12,
                        markers: {
                        width: 10,
                        height: 10,
                        radius: 100,
                        },
                        itemMargin: {
                        horizontal: 8,
                        vertical: 8
                        },
                    },
                    })).render();
                });
            </script>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
{{ end }}